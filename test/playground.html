<!DOCTYPE html>
<html>
  <head>
    <title></title>

    <style>
      .container {
        width: 800px;
        margin: 50px auto;
      }

      .autocomplete-wrapper {
        display: block;
        margin: 50px 0;
      }

      .aa-menu {
        background-color: #fff;
        border: 1px solid #000;
      }

      .aa-suggestion.aa-cursor {
        background-color: #ccc;
      }
    </style>
  </head>

  <body>
    <div class="container">
      <form action="/where" method="GET">
        <div class="autocomplete-wrapper">
          <input id="contacts" name="contacts" type="text">
          <input type="submit">
        </div>
      </form>
    </div>

    <script src="../../node_modules/jquery/dist/jquery.js"></script>
    <script src="../../dist/autocomplete.jquery.js"></script>
    <script src="//cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
    <script>
      var client = algoliasearch('latency', '6be0576ff61c053d5f9a3225e2a90f76');
      var index = client.initIndex('contacts');

      $('#contacts').autocomplete({}, [
        {
          source: function(q, cb) {
            index.search(q, { hitsPerPage: 5 }, function(error, content) {
              if (error) {
                cb([]);
                return;
              }
              cb(content.hits, content);
            });
          },
          templates: {
            header: function(x, answer) {
              return '<h4>Header (' + answer.nbHits + ')</h4>';
            },
            footer: '<h4>Footer</h4>',
            suggestion: function(suggestion, answer) {
              return suggestion._highlightResult.name.value + ' (' + answer.nbHits + ')';
            }
          }
        }
      ]);
    </script>
  </body>
</html>
